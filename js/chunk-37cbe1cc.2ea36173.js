(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37cbe1cc"],{"1c8e":function(t,s,e){"use strict";e("99af"),e("e9c4"),e("d3b7");var a=e("bc3a"),i=e.n(a),n=e("d445"),o=e("3136"),r=e("5cc6"),c={props:{options:{type:Object,default:{}}},data:function(){return{progress:new n["a"]({color:"var(--progress-bar)"}),overrideProxyChoice:!1,overrideUpdateInterval:null,disableLoader:!1,updater:null,defaultTimeout:5e4}},mounted:function(){this.fetchData(),this.updateInterval&&(this.continuousUpdates(),this.disableLoader=!0)},beforeDestroy:function(){this.updater&&clearInterval(this.updater)},computed:{proxyReqEndpoint:function(){var t=Object({NODE_ENV:"production",VUE_APP_VERSION:"2.1.0",BASE_URL:"/"}).VUE_APP_DOMAIN||window.location.origin;return"".concat(t).concat(r["serviceEndpoints"].corsProxy)},useProxy:function(){return this.options.useProxy||this.overrideProxyChoice},updateInterval:function(){var t=this.options.updateInterval;return null===t&&this.overrideUpdateInterval?1e3*this.overrideUpdateInterval:t?"boolean"===typeof t?3e4:"number"===typeof t&&t>=2&&t<=7200?1e3*t:0:0}},methods:{update:function(){this.startLoading(),this.fetchData()},continuousUpdates:function(){var t=this;this.updater=setInterval((function(){t.update()}),this.updateInterval)},error:function(t,s){Object(o["e"])(t,s),this.$emit("error",t)},startLoading:function(){this.disableLoader||(this.$emit("loading",!0),this.progress.start())},finishLoading:function(){var t=this;this.$emit("loading",!1),setTimeout((function(){t.progress.end()}),500)},fetchData:function(){this.finishLoading()},tooltip:function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{content:t,html:s,trigger:"hover focus",delay:250}},makeRequest:function(t,s,e,a){var n=this,o=e||"GET",r=this.useProxy?this.proxyReqEndpoint:t,c=JSON.stringify(a||{}),u=s||null,l=this.useProxy?{"Target-URL":t,CustomHeaders:JSON.stringify(u)}:u,p=this.options.timeout||this.defaultTimeout,d={method:o,url:r,headers:l,data:c,timeout:p};return new Promise((function(t,s){i.a.request(d).then((function(s){!1===s.data.success&&n.error("Proxy returned error from target server",s.data.message),t(s.data)})).catch((function(t){n.error("Unable to fetch data",t),s(t)})).finally((function(){n.finishLoading()}))}))}}};s["a"]=c},"46e3":function(t,s,e){},6554:function(t,s,e){"use strict";e("46e3")},d71a:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"stat-ping-wrapper"},t._l(t.services,(function(s,a){return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.makeTooltip(s),expression:"makeTooltip(service)"}],key:a,staticClass:"service-row"},[e("p",{staticClass:"service-name"},[t._v(" "+t._s(s.name)+": "),s.online?e("span",{staticClass:"status-online"},[t._v(" "+t._s(t.$t("widgets.stat-ping.up"))+" ")]):e("span",{staticClass:"status-offline"},[t._v(" "+t._s(t.$t("widgets.stat-ping.down"))+" ")])]),e("div",{staticClass:"charts"},[e("img",{staticClass:"uptime-pie-chart",attrs:{alt:"24 Hour Uptime Chart",src:t.makeChartUrl(s.uptime24,"24 Hours")}}),e("img",{staticClass:"uptime-pie-chart",attrs:{alt:"7 Day Uptime Chart",src:t.makeChartUrl(s.uptime7,"7 Days")}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"info-row"},[e("span",{staticClass:"lbl"},[t._v("Failed Pings")]),e("span",{staticClass:"val"},[t._v(t._s(s.totalFailure)+"/"+t._s(s.totalSuccess))])]),e("div",{staticClass:"info-row"},[e("span",{staticClass:"lbl"},[t._v("Last Success")]),e("span",{staticClass:"val"},[t._v(t._s(s.lastSuccess))])]),e("div",{staticClass:"info-row"},[e("span",{staticClass:"lbl"},[t._v("Last Failure")]),e("span",{staticClass:"val"},[t._v(t._s(s.lastFailure))])]),e("div",{staticClass:"info-row"},[e("span",{staticClass:"lbl"},[t._v("Avg Response Time")]),e("span",{staticClass:"val"},[t._v(t._s(s.responseTime)+" ms")])])])])})),0)},i=[],n=(e("99af"),e("d3b7"),e("159b"),e("b0c0"),e("fb6a"),e("5cc6")),o=e("b96f"),r=e("1c8e"),c={mixins:[r["a"]],components:{},data:function(){return{services:null}},computed:{hostname:function(){return this.options.hostname||this.error("A hostname is required"),this.options.hostname},limit:function(){return this.options.limit},proxyReqEndpoint:function(){var t=Object({NODE_ENV:"production",VUE_APP_VERSION:"2.1.0",BASE_URL:"/"}).VUE_APP_DOMAIN||window.location.origin;return"".concat(t).concat(n["serviceEndpoints"].corsProxy)},endpoint:function(){return"".concat(this.hostname,"/api/services")}},methods:{fetchData:function(){this.overrideProxyChoice=!0,this.makeRequest(this.endpoint).then(this.processData)},makeChartUrl:function(t,s){var e="https://quickchart.io",a="zm-d3d5134f-5920-49d1-92ab-303aaaf8cb0b";return"".concat(e,"/chart/render/").concat(a,"?data1=").concat(t,",").concat(100-t,"&title=").concat(s)},makeTooltip:function(t){var s=t.responseTime,e=t.totalFailure,a=t.totalSuccess,i=t.lastSuccess,n=t.lastFailure,o="<b>Failed Pings:</b> ".concat(e,"/").concat(a,"<br>")+"<b>Response Time:</b> ".concat(s,"ms<br>")+"<b>Last Success:</b> ".concat(i,"<br>")+"<b>Last Failure:</b> ".concat(n);return{content:o,html:!0,trigger:"hover focus",delay:250,classes:"ping-times-tt"}},processData:function(t){var s=[];t.forEach((function(t){s.push({name:t.name,online:t.online,uptime7:t.online_7_days,uptime24:t.online_24_hours,responseTime:Math.round(t.avg_response/1e3),totalSuccess:Object(o["o"])(t.stats.hits),totalFailure:Object(o["o"])(t.stats.failures),lastSuccess:Object(o["j"])(t.last_success),lastFailure:Object(o["j"])(t.last_error)})})),this.limit&&(s=s.slice(0,this.limit)),this.services=s}}},u=c,l=(e("6554"),e("2877")),p=Object(l["a"])(u,a,i,!1,null,"19015ff2",null);s["default"]=p.exports}}]);
//# sourceMappingURL=chunk-37cbe1cc.2ea36173.js.map