(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18a1a231"],{"1c8e":function(t,e,a){"use strict";a("99af"),a("e9c4"),a("d3b7");var i=a("bc3a"),s=a.n(i),n=a("d445"),o=a("3136"),r=a("5cc6"),c={props:{options:{type:Object,default:{}}},data:function(){return{progress:new n["a"]({color:"var(--progress-bar)"}),overrideProxyChoice:!1,overrideUpdateInterval:null,disableLoader:!1,updater:null,defaultTimeout:5e4}},mounted:function(){this.fetchData(),this.updateInterval&&(this.continuousUpdates(),this.disableLoader=!0)},beforeDestroy:function(){this.updater&&clearInterval(this.updater)},computed:{proxyReqEndpoint:function(){var t=Object({NODE_ENV:"production",VUE_APP_VERSION:"2.1.0",BASE_URL:"/"}).VUE_APP_DOMAIN||window.location.origin;return"".concat(t).concat(r["serviceEndpoints"].corsProxy)},useProxy:function(){return this.options.useProxy||this.overrideProxyChoice},updateInterval:function(){var t=this.options.updateInterval;return null===t&&this.overrideUpdateInterval?1e3*this.overrideUpdateInterval:t?"boolean"===typeof t?3e4:"number"===typeof t&&t>=2&&t<=7200?1e3*t:0:0}},methods:{update:function(){this.startLoading(),this.fetchData()},continuousUpdates:function(){var t=this;this.updater=setInterval((function(){t.update()}),this.updateInterval)},error:function(t,e){Object(o["e"])(t,e),this.$emit("error",t)},startLoading:function(){this.disableLoader||(this.$emit("loading",!0),this.progress.start())},finishLoading:function(){var t=this;this.$emit("loading",!1),setTimeout((function(){t.progress.end()}),500)},fetchData:function(){this.finishLoading()},tooltip:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{content:t,html:e,trigger:"hover focus",delay:250}},makeRequest:function(t,e,a,i){var n=this,o=a||"GET",r=this.useProxy?this.proxyReqEndpoint:t,c=JSON.stringify(i||{}),l=e||null,u=this.useProxy?{"Target-URL":t,CustomHeaders:JSON.stringify(l)}:l,d=this.options.timeout||this.defaultTimeout,h={method:o,url:r,headers:u,data:c,timeout:d};return new Promise((function(t,e){s.a.request(h).then((function(e){!1===e.data.success&&n.error("Proxy returned error from target server",e.data.message),t(e.data)})).catch((function(t){n.error("Unable to fetch data",t),e(t)})).finally((function(){n.finishLoading()}))}))}}};e["a"]=c},6152:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"percentage-chart-wrapper"},[t.title?a("div",{staticClass:"title"},[a("p",[t._v(t._s(t.title))])]):t._e(),a("div",{staticClass:"percentage-chart",style:t.makeWrapperStyles(t.height)},t._l(t.blocks,(function(e,i){return a("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.label+" - "+e.width+"%",expression:"`${block.label} - ${block.width}%`"}],key:i,staticClass:"inner",style:t.makeDimens(e)})})),0),t.showLegend?a("div",{staticClass:"legend"},t._l(t.blocks,(function(e,i){return a("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:Math.round(e.width)+"% ("+e.value+")",expression:"`${Math.round(block.width)}% (${block.value})`"}],key:i,staticClass:"legend-item"},[e.label?a("div",{staticClass:"dot",style:t.makeDotColor(e)}):t._e(),e.label?a("div",{staticClass:"txt"},[t._v(t._s(e.label))]):t._e()])})),0):t._e()])},s=[],n=(a("d3b7"),a("ddb0"),a("159b"),a("99af"),{props:{showAsPercent:{type:Boolean,default:!0},showLegend:{type:Boolean,default:!0},height:{number:Boolean,default:1},values:Array,title:String},data:function(){return{defaultColors:["#eb5cad","#985ceb","#5346f3","#5c90eb","#5cdfeb","#00CCB4","#5ceb8d","#afeb5c","#eff961"]}},computed:{blocks:function(){var t=this,e=0,a=[],i=this.values.reduce((function(t,e){return(t.size||t)+e.size})),s=this.showAsPercent?100/i:1;return this.values.forEach((function(i,n){var o=t.defaultColors[n%t.defaultColors.length];a.push({start:e,width:Math.round(i.size*s),color:i.color||o,label:i.label,value:i.size}),e+=i.size*s})),a}},methods:{makeDimens:function(t){return"margin-left: ".concat(t.start,"%; width: ").concat(t.width,"%; background: ").concat(t.color)},makeDotColor:function(t){return"background: ".concat(t.color,";")},makeWrapperStyles:function(t){return"height: ".concat(t,"rem")}}}),o=n,r=(a("953b"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,"b3e246fa",null);e["a"]=c.exports},"78fc":function(t,e,a){},"81d5":function(t,e,a){"use strict";var i=a("7b0b"),s=a("23cb"),n=a("07fa");t.exports=function(t){var e=i(this),a=n(e),o=arguments.length,r=s(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,l=void 0===c?a:s(c,a);while(l>r)e[r++]=t;return e}},"838b":function(t,e,a){},"953b":function(t,e,a){"use strict";a("838b")},9749:function(t,e,a){"use strict";a("78fc")},a492:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"anonaddy-wrapper"},[t.meta&&!t.hideMeta?a("div",{staticClass:"account-info"},[a("PercentageChart",{attrs:{title:"Mail Stats",values:[{label:"Forwarded",size:t.meta.forwardCount,color:"#20e253"},{label:"Blocked",size:t.meta.blockedCount,color:"#f80363"},{label:"Replies",size:t.meta.repliesCount,color:"#04e4f4"},{label:"Sent",size:t.meta.sentCount,color:"#f6f000"}]}}),a("div",{staticClass:"meta-item"},[a("span",{staticClass:"lbl"},[t._v("Bandwidth")]),a("span",{staticClass:"val"},[t._v(" "+t._s(t._f("formatBytes")(t.meta.bandwidth))+" out of "+t._s(1e8!==t.meta.bandwidthLimit?t.formatBytes(t.meta.bandwidthLimit):"∞")+" ")])]),a("div",{staticClass:"meta-item"},[a("span",{staticClass:"lbl"},[t._v("Active Domains")]),a("span",{staticClass:"val"},[t._v(t._s(t.meta.activeDomains)+" out of "+t._s(t.meta.activeDomainsLimit))])]),a("div",{staticClass:"meta-item"},[a("span",{staticClass:"lbl"},[t._v("Shared Domains")]),a("span",{staticClass:"val"},[t._v(t._s(t.meta.sharedDomains)+" out of "+t._s(t.meta.sharedDomainsLimit||"∞"))])]),a("div",{staticClass:"meta-item"},[a("span",{staticClass:"lbl"},[t._v("Usernames")]),a("span",{staticClass:"val"},[t._v(t._s(t.meta.usernamesCount)+" out of "+t._s(t.meta.usernamesLimit||"∞"))])])],1):t._e(),t.aliases&&!t.hideAliases?a("div",{staticClass:"email-list"},t._l(t.aliases,(function(e){return a("div",{key:e.id,staticClass:"email-row"},[a("div",{staticClass:"row-1"},[t.disableControls?t._e():a("Toggle",{attrs:{defaultState:e.active,id:e.id,hideLabels:!0},on:{change:t.toggleAlias}}),t.disableControls?a("span",{class:"status "+(e.active?"active":"inactive")},[t._v("●")]):t._e(),a("div",{staticClass:"address-copy",attrs:{title:"Click to Copy"},on:{click:function(a){return t.copyToClipboard(e.fullEmail)}}},[a("span",{staticClass:"txt-email"},[t._v(t._s(e.email))]),a("span",{staticClass:"txt-at"},[t._v("@")]),a("span",{staticClass:"txt-domain"},[t._v(t._s(e.domain))])]),a("ClipboardIcon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip("Copy alias to clipboard"),expression:"tooltip('Copy alias to clipboard')"}],staticClass:"copy-btn",on:{click:function(a){return t.copyToClipboard(e.fullEmail)}}})],1),e.description?a("div",{staticClass:"row-2"},[a("span",{staticClass:"description"},[t._v(t._s(e.description))])]):t._e(),a("div",{staticClass:"row-3"},[a("span",{staticClass:"lbl"},[t._v("Forwarded")]),a("span",{staticClass:"val"},[t._v(t._s(e.forwardCount))]),a("span",{staticClass:"lbl"},[t._v("Blocked")]),a("span",{staticClass:"val"},[t._v(t._s(e.blockedCount))]),a("span",{staticClass:"lbl"},[t._v("Replied")]),a("span",{staticClass:"val"},[t._v(t._s(e.repliesCount))]),a("span",{staticClass:"lbl"},[t._v("Sent")]),a("span",{staticClass:"val"},[t._v(t._s(e.sentCount))])]),a("div",{staticClass:"row-4"},[a("span",{staticClass:"lbl"},[t._v("Created")]),a("span",{staticClass:"val as-date"},[t._v(t._s(t._f("formatDate")(e.createdAt)))]),a("span",{staticClass:"val as-time-ago"},[t._v(t._s(t._f("formatTimeAgo")(e.createdAt)))])])])})),0):t._e(),t.numPages&&!t.hideAliases?a("div",{staticClass:"pagination"},[a("span",{staticClass:"page-num first",on:{click:function(e){return t.goToFirst()}}},[t._v("«")]),1!==t.paginationRange[0]?a("span",{staticClass:"page-num",on:{click:function(e){return t.goToPrevious()}}},[t._v("...")]):t._e(),t._l(t.paginationRange,(function(e){return a("span",{key:e,class:"page-num "+(e===t.currentPage?"selected":""),on:{click:function(a){return t.goToPage(e)}}},[t._v(t._s(e))])})),t.paginationRange[t.paginationRange.length-1]<t.numPages?a("span",{staticClass:"page-num",on:{click:function(e){return t.goToNext()}}},[t._v("...")]):t._e(),a("span",{staticClass:"page-num last",on:{click:function(e){return t.goToLast()}}},[t._v("»")]),a("p",{staticClass:"page-status"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.numPages))])],2):t._e()])},s=[],n=(a("99af"),a("d81d"),a("cb29"),a("d3b7"),a("159b"),a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"toggle-switch",class:{active:t.isActive},attrs:{for:t.id+"_button"}},[t.hideLabels?t._e():a("span",{staticClass:"toggle__label"},[t._v(t._s(t.isActive?t.enableText:t.disabledText))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedValue,expression:"checkedValue"}],attrs:{type:"checkbox",disabled:t.disabled,id:t.id+"_button"},domProps:{checked:Array.isArray(t.checkedValue)?t._i(t.checkedValue,null)>-1:t.checkedValue},on:{change:function(e){var a=t.checkedValue,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);i.checked?o<0&&(t.checkedValue=a.concat([n])):o>-1&&(t.checkedValue=a.slice(0,o).concat(a.slice(o+1)))}else t.checkedValue=s}}}),a("span",{staticClass:"switch"})])}),o=[],r={props:{disabled:{type:Boolean,default:!1},labelEnableText:{type:String,default:"On"},labelDisableText:{type:String,default:"Off"},id:{type:String,default:"primary"},defaultState:{type:Boolean,default:!1},hideLabels:{type:Boolean,default:!1}},data:function(){return{currentState:this.defaultState}},watch:{defaultState:function(){this.currentState=Boolean(this.defaultState)}},computed:{isActive:function(){return this.currentState},enableText:function(){return this.labelEnableText},disabledText:function(){return this.labelDisableText},checkedValue:{get:function(){return this.currentState},set:function(t){this.currentState=t,this.$emit("change",t,this.id)}}}},c=r,l=(a("9749"),a("2877")),u=Object(l["a"])(c,n,o,!1,null,"0c7e3038",null),d=u.exports,h=a("6152"),p=a("1c8e"),f=a("5cc6"),m=a("b96f"),v=a("82fb"),b=a.n(v),g={mixins:[p["a"]],components:{Toggle:d,PercentageChart:h["a"],ClipboardIcon:b.a},data:function(){return{aliases:null,meta:null,numPages:null,currentPage:1}},computed:{hostname:function(){return this.options.hostname||f["widgetApiEndpoints"].anonAddy},apiVersion:function(){return this.options.apiVersion||"v1"},limit:function(){return this.options.limit||"10"},sortBy:function(){return this.options.sortBy||"updated_at"},searchTerm:function(){return this.options.searchTerm||""},disableControls:function(){return this.options.disableControls||!1},apiKey:function(){return this.options.apiKey||this.error("An apiKey is required"),this.options.apiKey},hideMeta:function(){return this.options.hideMeta},hideAliases:function(){return this.options.hideAliases},endpoint:function(){return"".concat(this.hostname,"/api/").concat(this.apiVersion,"/aliases?")+"sort=".concat(this.sortBy,"&filter[search]=").concat(this.searchTerm)+"&page[number]=".concat(this.currentPage,"&page[size]=").concat(this.limit)},aliasCountEndpoint:function(){return"".concat(this.hostname,"/api/").concat(this.apiVersion,"/aliases?filter[search]=").concat(this.searchTerm)},accountInfoEndpoint:function(){return"".concat(this.hostname,"/api/").concat(this.apiVersion,"/account-details")},headers:function(){return{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",Authorization:"Bearer ".concat(this.apiKey)}},paginationRange:function(){var t=function(t,e){return Array(e-t+1).fill().map((function(e,a){return t+a}))},e=this.numPages>10?10:this.numPages;return this.currentPage>e?t(this.currentPage-e,this.currentPage):t(1,e)}},filters:{formatDate:function(t){return Object(m["p"])(t)},formatTimeAgo:function(t){return Object(m["j"])(t)},formatBytes:function(t){return Object(m["c"])(t)}},created:function(){this.fetchAccountInfo()},methods:{copyToClipboard:function(t){navigator.clipboard.writeText(t),this.$toasted.show("Email address copied to clipboard")},fetchData:function(){this.makeRequest(this.endpoint,this.headers).then(this.processData)},fetchAccountInfo:function(){var t=this;this.makeRequest(this.accountInfoEndpoint,this.headers).then(this.processAccountInfo),this.makeRequest(this.aliasCountEndpoint,this.headers).then((function(e){t.numPages=Math.floor(e.data.length/t.limit)}))},processData:function(t){this.currentPage=t.meta.current_page;var e=[];t.data.forEach((function(t){e.push({id:t.id,active:t.active,domain:t.domain,email:t.local_part,recipients:t.recipients,description:t.description,forwardCount:t.emails_forwarded,blockedCount:t.emails_blocked,repliesCount:t.emails_replied,sentCount:t.emails_sent,createdAt:t.created_at,updatedAt:t.updated_at,deletedAt:t.deleted_at,fullEmail:t.email})})),this.aliases=e},processAccountInfo:function(t){var e=t.data;this.meta={name:t.username||e.from_name,bandwidth:e.bandwidth,bandwidthLimit:e.bandwidth_limit||1e8,activeDomains:e.active_domain_count,activeDomainsLimit:e.active_domain_limit,sharedDomains:e.active_shared_domain_alias_count,sharedDomainsLimit:e.active_shared_domain_alias_limit,usernamesCount:e.username_count,usernamesLimit:e.username_limit,forwardCount:e.total_emails_forwarded,blockedCount:e.total_emails_blocked,repliesCount:e.total_emails_replied,sentCount:e.total_emails_sent}},toggleAlias:function(t,e){var a=this;if(this.disableControls)this.$toasted.show("Error, controls disabled",{className:"toast-error"});else{var i=t?"POST":"DELETE",s=t?"active-aliases":"active-aliases/".concat(e),n=t?{id:e}:{},o="".concat(this.hostname,"/api/").concat(this.apiVersion,"/").concat(s);this.makeRequest(o,this.headers,i,n).then((function(){var e="Alias successfully ".concat(t?"enabled":"disabled");a.$toasted.show(e,{className:"toast-success"})}))}},goToPage:function(t){this.progress.start(),this.currentPage=t,this.fetchData()},goToFirst:function(){this.goToPage(1)},goToLast:function(){this.goToPage(this.numPages)},goToPrevious:function(){this.currentPage>1&&this.goToPage(this.currentPage-1)},goToNext:function(){this.currentPage<this.numPages&&this.goToPage(this.currentPage+1)}}},_=g,C=(a("e2ab"),Object(l["a"])(_,i,s,!1,null,"31d7a56f",null));e["default"]=C.exports},c700:function(t,e,a){},cb29:function(t,e,a){var i=a("23e7"),s=a("81d5"),n=a("44d2");i({target:"Array",proto:!0},{fill:s}),n("fill")},e2ab:function(t,e,a){"use strict";a("c700")}}]);
//# sourceMappingURL=chunk-18a1a231.1ce79963.js.map