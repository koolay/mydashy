(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee1427b4"],{"147e":function(t,i,e){},"1c8e":function(t,i,e){"use strict";e("99af"),e("e9c4"),e("d3b7");var r=e("bc3a"),a=e.n(r),n=e("d445"),o=e("3136"),s=e("5cc6"),c={props:{options:{type:Object,default:{}}},data:function(){return{progress:new n["a"]({color:"var(--progress-bar)"}),overrideProxyChoice:!1,overrideUpdateInterval:null,disableLoader:!1,updater:null,defaultTimeout:5e4}},mounted:function(){this.fetchData(),this.updateInterval&&(this.continuousUpdates(),this.disableLoader=!0)},beforeDestroy:function(){this.updater&&clearInterval(this.updater)},computed:{proxyReqEndpoint:function(){var t=Object({NODE_ENV:"production",VUE_APP_VERSION:"2.1.0",BASE_URL:"/"}).VUE_APP_DOMAIN||window.location.origin;return"".concat(t).concat(s["serviceEndpoints"].corsProxy)},useProxy:function(){return this.options.useProxy||this.overrideProxyChoice},updateInterval:function(){var t=this.options.updateInterval;return null===t&&this.overrideUpdateInterval?1e3*this.overrideUpdateInterval:t?"boolean"===typeof t?3e4:"number"===typeof t&&t>=2&&t<=7200?1e3*t:0:0}},methods:{update:function(){this.startLoading(),this.fetchData()},continuousUpdates:function(){var t=this;this.updater=setInterval((function(){t.update()}),this.updateInterval)},error:function(t,i){Object(o["e"])(t,i),this.$emit("error",t)},startLoading:function(){this.disableLoader||(this.$emit("loading",!0),this.progress.start())},finishLoading:function(){var t=this;this.$emit("loading",!1),setTimeout((function(){t.progress.end()}),500)},fetchData:function(){this.finishLoading()},tooltip:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{content:t,html:i,trigger:"hover focus",delay:250}},makeRequest:function(t,i,e,r){var n=this,o=e||"GET",s=this.useProxy?this.proxyReqEndpoint:t,c=JSON.stringify(r||{}),u=i||null,l=this.useProxy?{"Target-URL":t,CustomHeaders:JSON.stringify(u)}:u,f=this.options.timeout||this.defaultTimeout,p={method:o,url:s,headers:l,data:c,timeout:f};return new Promise((function(t,i){a.a.request(p).then((function(i){!1===i.data.success&&n.error("Proxy returned error from target server",i.data.message),t(i.data)})).catch((function(t){n.error("Unable to fetch data",t),i(t)})).finally((function(){n.finishLoading()}))}))}}};i["a"]=c},6968:function(t,i,e){"use strict";e("147e")},a75b:function(t,i,e){"use strict";e.r(i);var r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"flight-wrapper"},[e("p",{staticClass:"flight-intro"},[t._v(" Live "+t._s("both"!==t.direction?t.direction:"flight")+" data from "+t._s(t.airport)+" ")]),t.departures.length>0?e("div",{staticClass:"flight-group"},["both"===t.direction?e("h3",{staticClass:"flight-type-subtitle"},[t._v(" "+t._s(t.$t("widgets.flight-data.departures"))+" ")]):t._e(),t._l(t.departures,(function(i){return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tip(i),expression:"tip(flight)"}],key:i.number,staticClass:"flight"},[e("p",{staticClass:"info flight-time"},[t._v(t._s(t._f("formatDate")(i.time)))]),e("p",{staticClass:"info flight-number"},[t._v(t._s(i.number))]),e("p",{staticClass:"info flight-airport"},[t._v(t._s(i.airport))])])}))],2):t._e(),t.arrivals.length>0?e("div",{staticClass:"flight-group"},["both"===t.direction?e("h3",{staticClass:"flight-type-subtitle"},[t._v(" "+t._s(t.$t("widgets.flight-data.arrivals"))+" ")]):t._e(),t._l(t.arrivals,(function(i){return e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tip(i),expression:"tip(flight)"}],key:i.number,staticClass:"flight"},[e("p",{staticClass:"info flight-time"},[t._v(t._s(t._f("formatDate")(i.time)))]),e("p",{staticClass:"info flight-number"},[t._v(t._s(i.number))]),e("p",{staticClass:"info flight-airport"},[t._v(t._s(i.airport))])])}))],2):t._e()])},a=[],n=(e("9129"),e("a9e3"),e("99af"),e("498a2"),e("ac1f"),e("00b4"),e("caad"),e("1276"),e("d3b7"),e("25f0"),e("fb6a"),e("159b"),e("b0c0"),e("bc3a")),o=e.n(n),s=e("1c8e"),c=e("5cc6"),u={mixins:[s["a"]],components:{},data:function(){return{departures:[],arrivals:[]}},filters:{formatDate:function(t){var i=new Date(t);return Number.isNaN(i.getHours())?"[UNKNOWN]":"".concat(i.getHours(),":").concat(i.getMinutes(),":").concat(i.getSeconds())}},computed:{airport:function(){var t=this.options.airport;if(!t)return this.error("A valid airport must be specified"),"";var i=t.toUpperCase().trim();return/[A-Z]{4}/.test(i)?i:(this.error("Incorrect airport format, must be a valid 4-digit ICAO-code"),"")},apiKey:function(){var t=this.options.apiKey;return t||(this.error("An API key must be supplied"),"")},direction:function(){var t=this.options.direction;if(!t||"string"!==typeof t)return"both";var i=["arrival","departure","both"];return i.includes(t.toLowerCase())?t:"both"},limit:function(){var t=this.options.limit;return t||8},fromDate:function(){var t=new Date;return new Date("".concat(t.toString().split("GMT")[0]," UTC")).toISOString().split(".")[0]},toDate:function(){var t=new Date((new Date).setSeconds(0)),i=new Date(new Date(t).setHours(t.getHours()+12));return new Date("".concat(i.toString().split("GMT")[0]," UTC")).toISOString().split(".")[0]},endpoint:function(){return"".concat(c["widgetApiEndpoints"].flights).concat(this.airport,"/").concat(this.fromDate,"/").concat(this.toDate)}},methods:{fetchData:function(){var t=this,i={method:"GET",url:this.endpoint,params:{withCargo:"true",withPrivate:"true",withLocation:"false"},headers:{"x-rapidapi-host":"aerodatabox.p.rapidapi.com","x-rapidapi-key":this.apiKey}};o.a.request(i).then((function(i){t.processData(i.data)})).catch((function(i){t.error("Unable to fetch flight data",i)})).finally((function(){t.finishLoading()}))},processData:function(t){this.arrivals=this.makeFlightList(t.arrivals).slice(0,this.limit),this.departures=this.makeFlightList(t.departures).slice(0,this.limit)},makeFlightList:function(t){var i=[];return t.forEach((function(t){i.push({number:t.number,airline:t.airline.name,aircraft:t.aircraft.model,airport:t.movement.airport.name,time:t.movement.actualTimeUtc})})),i},tip:function(t){var i="".concat(t.aircraft," | ").concat(t.airline);return{content:i,trigger:"hover focus",delay:250,classes:"in-modal-tt"}}}},l=u,f=(e("6968"),e("2877")),p=Object(f["a"])(l,r,a,!1,null,"0cb0ca88",null);i["default"]=p.exports}}]);
//# sourceMappingURL=chunk-ee1427b4.13fea757.js.map