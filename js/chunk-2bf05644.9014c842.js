(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bf05644"],{"206d":function(e,s,t){"use strict";t("4413")},4413:function(e,s,t){},a55b:function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"login-page"},[s.isUserAlreadyLoggedIn?n("div",{staticClass:"already-logged-in"},[n("h2",[s._v(s._s(s.$t("login.already-logged-in-title")))]),n("p",{staticClass:"already-logged-in"},[s._v(" "+s._s(s.$t("login.already-logged-in-text"))+" "),n("span",{staticClass:"username"},[s._v(s._s(s.existingUsername))])]),n("Button",{staticClass:"login-button",attrs:{click:s.stayLoggedIn}},[s._v(" "+s._s(s.$t("login.proceed-to-dashboard"))+" ")]),n("Button",{staticClass:"login-button",attrs:{click:s.getOut}},[s._v(s._s(s.$t("login.log-out-button")))]),n("span",{staticClass:"already-logged-in-note"},[s._v(" You need to log out, in order to proceed as a different user. ")]),n("transition",{attrs:{name:"bounce"}},[n("p",{directives:[{name:"show",rawName:"v-show",value:s.message,expression:"message"}],class:"login-error-message "+s.status},[s._v(s._s(s.message))])])],1):s._e(),!s.isUserAlreadyLoggedIn&&s.isAuthenticationEnabled?n("form",{staticClass:"login-form"},[n("h2",{staticClass:"login-title"},[s._v(s._s(s.$t("login.title")))]),n("Input",{staticClass:"login-field username",attrs:{type:"text",onEnter:s.submitLogin,label:s.$t("login.username-label")},model:{value:s.username,callback:function(e){s.username=e},expression:"username"}}),n("Input",{staticClass:"login-field password",attrs:{type:"password",onEnter:s.submitLogin,label:s.$t("login.password-label")},model:{value:s.password,callback:function(e){s.password=e},expression:"password"}}),n("label",[s._v(s._s(s.$t("login.remember-me-label")))]),n("v-select",{staticClass:"login-time-dropdown",attrs:{selectOnTab:!0,options:s.dropDownMenu,"map-keydown":function(s){return Object.assign({},s,{13:function(){return e.submitLogin()}})}},model:{value:s.timeout,callback:function(e){s.timeout=e},expression:"timeout"}}),n("Button",{staticClass:"login-button",attrs:{click:s.submitLogin}},[s._v(" "+s._s(s.$t("login.login-button"))+" ")]),n("transition",{attrs:{name:"bounce"}},[n("p",{directives:[{name:"show",rawName:"v-show",value:s.message,expression:"message"}],class:"login-error-message "+s.status},[s._v(s._s(s.message))])])],1):s._e(),s.isGuestAccessEnabled&&!s.isUserAlreadyLoggedIn&&s.isAuthenticationEnabled?n("form",{staticClass:"guest-form"},[n("h2",{staticClass:"login-title"},[s._v("Guest Access")]),n("Button",{staticClass:"login-button",attrs:{click:s.guestLogin}},[s._v(" "+s._s(s.$t("login.proceed-guest-button"))+" ")]),s._m(0)],1):s._e(),s.isAuthenticationEnabled?s._e():n("div",{staticClass:"not-configured"},[n("h2",[s._v("Error")]),n("p",[s._v("Authentication is not enabled, or no users have been configured")]),n("Button",{staticClass:"login-button",attrs:{click:s.guestLogin}},[s._v(" Go Home ")])],1)])},i=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("p",{staticClass:"guest-intro"},[e._v(" This instance has guest access enabled."),t("br"),e._v(" Guests have view-only access to dashboards, so cannot write any changes to disk. ")])}],o=t("41cb"),a=t("b6e7"),r=t("d6e0"),c=t("5cc6"),l=t.n(c),u=t("3136"),g=t("f1a6"),m={name:"login",components:{Button:a["a"],Input:r["a"]},data:function(){return{username:"",password:"",message:"",status:"waiting",timeout:void 0}},computed:{appConfig:function(){return this.$store.getters.appConfig},dropDownMenu:function(){return[{label:this.$t("login.remember-me-never"),time:0},{label:this.$t("login.remember-me-hour"),time:144e5},{label:this.$t("login.remember-me-day"),time:864e5},{label:this.$t("login.remember-me-week"),time:6048e5},{label:this.$t("login.remember-me-long-time"),time:314496e5}]},responseMessages:function(){return{missingUsername:this.$t("login.error-missing-username"),missingPassword:this.$t("login.error-missing-password"),incorrectUsername:this.$t("login.error-incorrect-username"),incorrectPassword:this.$t("login.error-incorrect-password"),successMsg:this.$t("login.success-message")}},existingUsername:function(){return localStorage[c["localStorageKeys"].USERNAME]},users:function(){var e=this.appConfig.auth||{};return Array.isArray(e)?e:e.users||[]},isUserAlreadyLoggedIn:function(){var e=!this.users||0===this.users.length||Object(g["f"])();return e&&this.existingUsername},isGuestAccessEnabled:function(){return Object(g["e"])()},isAuthenticationEnabled:function(){return this.appConfig&&this.appConfig.auth&&this.users.length>0}},methods:{submitLogin:function(){var e=this.timeout?this.timeout.time:0,s=Object(g["a"])(this.username,this.password,this.users,this.responseMessages);this.message=s.msg,this.status=s.correct?"success":"error",s.correct?(Object(g["i"])(this.username,this.password,e),this.goHome(),Object(u["b"])("Succesfully signed in as ".concat(this.username),u["c"].AUTH)):Object(u["d"])("Unable to Sign In",u["c"].AUTH,this.message)},guestLogin:function(){var e=this.isGuestAccessEnabled;e?(this.$toasted.show("Logged in as Guest, Redirecting...",{className:"toast-success"}),Object(u["b"])("Logged in as Guest",u["c"].AUTH),this.goHome()):(this.$toasted.show("Guest Access Not Allowed",{className:"toast-error"}),Object(u["d"])("Guest Access Not Allowed",u["c"].AUTH))},getOut:function(){Object(g["j"])(),this.status="success",this.message="Logging out...",this.refreshPage()},stayLoggedIn:function(){this.status="success",this.message="Redirecting...",this.goHome()},refreshPage:function(){setTimeout((function(){location.reload()}),250)},goHome:function(){setTimeout((function(){o["a"].push({path:"/"})}),250)},setTheme:function(){var e=localStorage[c["localStorageKeys"].THEME]||l.a.theme;document.getElementsByTagName("html")[0].setAttribute("data-theme",e)}},created:function(){var e=this;this.setTheme(),setTimeout((function(){e.timeout=e.dropDownMenu[0]}),1)}},d=m,h=(t("206d"),t("2877")),b=Object(h["a"])(d,n,i,!1,null,null,null);s["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2bf05644.9014c842.js.map